[
  {
    "testTemplate": {
      "testTemplateName": "salesItemsService.createSalesItem",
      "serviceName": "salesItemsService",
      "functionName": "createSalesItem",
      "functionArgument": {
        "price": "{{price}}",
        "previousPrice": "{{price}}",
        "userId": "{{userId}}",
        "title": "{{title}}",
        "description": "{{description}}",
        "area": "{{area}}",
        "productDepartment": "{{category}}",
        "productCategory": "{{category}}",
        "productSubCategory": "{{category}}",
        "primaryImageDataUri": "abc",
        "secondaryImageDataUris": ["abc"]
      },
      "response": {
        "statusCode": 200,
        "tests": [
          {
            "name": "set salesItemId",
            "exec": ["pm.collectionVariables.set(\"salesItemId\", response._id)"]
          }
        ]
      }
    },
    "tests": [
      {
        "testName": "price = 1",
        "testValues": {
          "price": 1.0,
          "title": "firstTitle",
          "description": "firstDescription",
          "area": "Area1",
          "category": "Vehicles"
        }
      },
      {
        "testName": "price = 2",
        "testValues": {
          "price": 2.0,
          "title": "secondTitle",
          "description": "secondDescription",
          "area": "Area2",
          "category": "Clothes"
        }
      }
    ]
  },
  {
    "testTemplate": {
      "testTemplateName": "salesItemsService.getSalesItems",
      "serviceName": "salesItemsService",
      "functionName": "getSalesItems",
      "functionArgument": {
        "{{argumentProperty1[0]}}": "{{argumentProperty1[1]}}",
        "{{argumentProperty2[0]}}": "{{argumentProperty2[1]}}",
        "{{argumentProperty3[0]}}": "{{argumentProperty3[1]}}",
        "includeResponseFields": []
      },
      "response": {
        "statusCode": 200,
        "tests": [
          {
            "name": "{{responseProperty[0]}} is {{responseProperty[1]}}",
            "exec": [
              "pm.expect(response[0].{{responseProperty[0]}}).to.eql({{responseProperty[1]}});",
              "pm.expect(response.length).to.eql({{responseLength}});"
            ]
          }
        ]
      }
    },
    "tests": [
      {
        "testName": "textFilter for title",
        "testValues": {
          "argumentProperty1": ["textFilter", "secondTitle"],
          "responseProperty": ["title", "'secondTitle'"],
          "responseLength": "1"
        }
      },
      {
        "testName": "textFilter for description",
        "testValues": {
          "argumentProperty1": ["textFilter", "secondDescription"],
          "responseProperty": ["description", "'secondDescription'"],
          "responseLength": "1"
        }
      },
      {
        "testName": "areas contains Area2",
        "testValues": {
          "argumentProperty1": ["areas", ["Area2"]],
          "responseProperty": ["area", "'Area2'"],
          "responseLength": "1"
        }
      },
      {
        "testName": "productDepartments contains 'Clothes'",
        "testValues": {
          "argumentProperty1": ["productDepartments", ["Clothes"]],
          "responseProperty": ["productDepartment", "'Clothes'"],
          "responseLength": "1"
        }
      },
      {
        "testName": "productCategories contains 'Clothes'",
        "testValues": {
          "argumentProperty1": ["productCategories", ["Clothes"]],
          "responseProperty": ["productCategory", "'Clothes'"],
          "responseLength": "1"
        }
      },
      {
        "testName": "productSubCategories contains 'Clothes'",
        "testValues": {
          "argumentProperty1": ["productSubCategories", ["Clothes"]],
          "responseProperty": ["productSubCategory", "'Clothes'"],
          "responseLength": "1"
        }
      },
      {
        "testName": "price is between minPrice and maxPrice",
        "testValues": {
          "argumentProperty1": ["minPrice", 2],
          "argumentProperty2": ["maxPrice", 2],
          "responseProperty": ["price", "2"],
          "responseLength": "1"
        }
      },
      {
        "testName": "sorting",
        "testValues": {
          "argumentProperty1": ["sortBys", [{ "sortField": "price", "sortDirection": "DESC" }]],
          "responseProperty": ["price", "2"],
          "responseLength": "2"
        }
      },
      {
        "testName": "paging",
        "testValues": {
          "argumentProperty1": ["pageNumber", 2],
          "argumentProperty2": ["pageSize", 1],
          "argumentProperty3": ["sortBys", [{ "sortField": "price", "sortDirection": "DESC" }]],
          "responseProperty": ["price", "1"],
          "responseLength": "1"
        }
      }
    ]
  },
  {
    "testTemplate": {
      "testTemplateName": "salesItemsService.getSalesItemById",
      "serviceName": "salesItemsService",
      "functionName": "getSalesItemById",
      "functionArgument": {
        "_id": "{{salesItemId}}"
      },
      "executeAfter": "ordersService.createOrder",
      "response": {
        "statusCode": 200,
        "tests": [
          {
            "name": "state is sold",
            "exec": [
              "pm.expect(response.state).to.eql('sold');",
              "pm.expect(response.userId).to.eql(pm.collectionVariables.get('userId'));",
              "pm.expect(response.price).to.eql(2.0);",
              "pm.expect(response.title).to.eql('secondTitle');",
              "pm.expect(response.description).to.eql('secondDescription');",
              "pm.expect(response.area).to.eql('Area2');",
              "pm.expect(response.productDepartment).to.eql('Clothes');",
              "pm.expect(response.productCategory).to.eql('Clothes');",
              "pm.expect(response.productSubCategory).to.eql('Clothes');"
            ]
          }
        ]
      }
    },
    "tests": [
      {
        "testName": "state = sold"
      }
    ]
  }
]
